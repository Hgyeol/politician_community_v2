import{r as c}from"./CmVufc-E.js";function x(){const l=c([]),a=c(!1),r=c(null);async function f(){a.value=!0,r.value=null;try{const t=(await(await fetch("/의원.csv")).text()).trim().split(`
`),i=t[0].split(","),n=[];for(let e=1;e<t.length;e++){const h=p(t[e]),u={id:e};i.forEach((v,g)=>{u[v]=h[g]||""}),n.push(u)}l.value=n,console.log("Loaded politicians:",n.slice(0,3))}catch(s){r.value="의원 데이터를 불러오는데 실패했습니다.",console.error("Failed to load politicians:",s)}finally{a.value=!1}}function p(s){const o=[];let t="",i=!1;for(let n=0;n<s.length;n++){const e=s[n];e==='"'?i=!i:e===","&&!i?(o.push(t.trim()),t=""):t+=e}return o.push(t.trim()),o}function d(s){return l.value.find(o=>o.지역===s)}return{politicians:l,loading:a,error:r,loadPoliticians:f,findByRegion:d}}export{x as u};
