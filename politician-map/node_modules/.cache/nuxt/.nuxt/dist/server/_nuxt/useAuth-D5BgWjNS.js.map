{"version":3,"file":"useAuth-D5BgWjNS.js","sources":["../../../../../../../composables/useAuth.ts"],"sourcesContent":["export function useAuth() {\n  const supabase = useSupabaseClient()\n  const user = useSupabaseUser()\n\n  // íšŒì›ê°€ìž…\n  const signUp = async (email: string, password: string, nickname: string, region: string = '') => {\n    try {\n      console.log('ðŸ”§ useAuth.signUp() í˜¸ì¶œ:', { email, nickname, region })\n\n      const { data, error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          data: {\n            nickname,\n            region\n          }\n        }\n      })\n\n      console.log('ðŸ”§ Supabase signUp ê²°ê³¼:', { data, error })\n\n      if (error) throw error\n      return { data, error: null }\n    } catch (error: any) {\n      console.error('âŒ Sign up error:', error)\n      return { data: null, error: error.message }\n    }\n  }\n\n  // ë¡œê·¸ì¸\n  const signIn = async (email: string, password: string) => {\n    try {\n      console.log('ðŸ”§ useAuth.signIn() í˜¸ì¶œ:', { email })\n\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password\n      })\n\n      console.log('ðŸ”§ Supabase signInWithPassword ê²°ê³¼:', {\n        user: data?.user?.email,\n        session: !!data?.session,\n        error\n      })\n\n      if (error) throw error\n      return { data, error: null }\n    } catch (error: any) {\n      console.error('âŒ Sign in error:', error)\n      return { data: null, error: error.message }\n    }\n  }\n\n  // ë¡œê·¸ì•„ì›ƒ\n  const signOut = async () => {\n    try {\n      const { error } = await supabase.auth.signOut()\n      if (error) throw error\n\n      // ë¡œê·¸ì•„ì›ƒ í›„ í™ˆìœ¼ë¡œ ì´ë™\n      await navigateTo('/')\n      return { error: null }\n    } catch (error: any) {\n      console.error('Sign out error:', error)\n      return { error: error.message }\n    }\n  }\n\n  // í”„ë¡œí•„ ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n  const getProfile = async (userId: string) => {\n    try {\n      const { data, error } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', userId)\n        .single()\n\n      if (error) throw error\n      return { data, error: null }\n    } catch (error: any) {\n      console.error('Get profile error:', error)\n      return { data: null, error: error.message }\n    }\n  }\n\n  // í”„ë¡œí•„ ì—…ë°ì´íŠ¸\n  const updateProfile = async (userId: string, updates: { nickname?: string; region?: string }) => {\n    try {\n      const { data, error } = await supabase\n        .from('profiles')\n        .update(updates)\n        .eq('id', userId)\n        .select()\n        .single()\n\n      if (error) throw error\n      return { data, error: null }\n    } catch (error: any) {\n      console.error('Update profile error:', error)\n      return { data: null, error: error.message }\n    }\n  }\n\n  // ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸\n  const isAuthenticated = computed(() => !!user.value)\n\n  return {\n    user,\n    signUp,\n    signIn,\n    signOut,\n    getProfile,\n    updateProfile,\n    isAuthenticated\n  }\n}\n"],"names":[],"mappings":";;;AAAO,SAAS,UAAU;AACxB,QAAM,WAAW,kBAAA;AACjB,QAAM,OAAO,gBAAA;AAGb,QAAM,SAAS,OAAO,OAAe,UAAkB,UAAkB,SAAiB,OAAO;AAC/F,QAAI;AACF,cAAQ,IAAI,2BAA2B,EAAE,OAAO,UAAU,QAAQ;AAElE,YAAM,EAAE,MAAM,MAAA,IAAU,MAAM,SAAS,KAAK,OAAO;AAAA,QACjD;AAAA,QACA;AAAA,QACA,SAAS;AAAA,UACP,MAAM;AAAA,YACJ;AAAA,YACA;AAAA,UAAA;AAAA,QACF;AAAA,MACF,CACD;AAED,cAAQ,IAAI,0BAA0B,EAAE,MAAM,OAAO;AAErD,UAAI,MAAO,OAAM;AACjB,aAAO,EAAE,MAAM,OAAO,KAAA;AAAA,IACxB,SAAS,OAAY;AACnB,cAAQ,MAAM,oBAAoB,KAAK;AACvC,aAAO,EAAE,MAAM,MAAM,OAAO,MAAM,QAAA;AAAA,IACpC;AAAA,EACF;AAGA,QAAM,SAAS,OAAO,OAAe,aAAqB;AACxD,QAAI;AACF,cAAQ,IAAI,2BAA2B,EAAE,MAAA,CAAO;AAEhD,YAAM,EAAE,MAAM,MAAA,IAAU,MAAM,SAAS,KAAK,mBAAmB;AAAA,QAC7D;AAAA,QACA;AAAA,MAAA,CACD;AAED,cAAQ,IAAI,sCAAsC;AAAA,QAChD,MAAM,MAAM,MAAM;AAAA,QAClB,SAAS,CAAC,CAAC,MAAM;AAAA,QACjB;AAAA,MAAA,CACD;AAED,UAAI,MAAO,OAAM;AACjB,aAAO,EAAE,MAAM,OAAO,KAAA;AAAA,IACxB,SAAS,OAAY;AACnB,cAAQ,MAAM,oBAAoB,KAAK;AACvC,aAAO,EAAE,MAAM,MAAM,OAAO,MAAM,QAAA;AAAA,IACpC;AAAA,EACF;AAGA,QAAM,UAAU,YAAY;AAC1B,QAAI;AACF,YAAM,EAAE,MAAA,IAAU,MAAM,SAAS,KAAK,QAAA;AACtC,UAAI,MAAO,OAAM;AAGjB,YAAM,WAAW,GAAG;AACpB,aAAO,EAAE,OAAO,KAAA;AAAA,IAClB,SAAS,OAAY;AACnB,cAAQ,MAAM,mBAAmB,KAAK;AACtC,aAAO,EAAE,OAAO,MAAM,QAAA;AAAA,IACxB;AAAA,EACF;AAGA,QAAM,aAAa,OAAO,WAAmB;AAC3C,QAAI;AACF,YAAM,EAAE,MAAM,MAAA,IAAU,MAAM,SAC3B,KAAK,UAAU,EACf,OAAO,GAAG,EACV,GAAG,MAAM,MAAM,EACf,OAAA;AAEH,UAAI,MAAO,OAAM;AACjB,aAAO,EAAE,MAAM,OAAO,KAAA;AAAA,IACxB,SAAS,OAAY;AACnB,cAAQ,MAAM,sBAAsB,KAAK;AACzC,aAAO,EAAE,MAAM,MAAM,OAAO,MAAM,QAAA;AAAA,IACpC;AAAA,EACF;AAGA,QAAM,gBAAgB,OAAO,QAAgB,YAAoD;AAC/F,QAAI;AACF,YAAM,EAAE,MAAM,MAAA,IAAU,MAAM,SAC3B,KAAK,UAAU,EACf,OAAO,OAAO,EACd,GAAG,MAAM,MAAM,EACf,OAAA,EACA,OAAA;AAEH,UAAI,MAAO,OAAM;AACjB,aAAO,EAAE,MAAM,OAAO,KAAA;AAAA,IACxB,SAAS,OAAY;AACnB,cAAQ,MAAM,yBAAyB,KAAK;AAC5C,aAAO,EAAE,MAAM,MAAM,OAAO,MAAM,QAAA;AAAA,IACpC;AAAA,EACF;AAGA,QAAM,kBAAkB,SAAS,MAAM,CAAC,CAAC,KAAK,KAAK;AAEnD,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;"}